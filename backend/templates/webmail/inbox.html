{% extends 'base.html' %}

{% block title %}Inbox{% endblock %}

{% block h1 %}Inbox{% endblock %}

{% block content %}
    <table class="table table-striped">
        {% for message in messages %}
            <tr class="row">
                <td class="col-3 ellipsis"><span class="badge badge-secondary">{{ message.from_email }}</span></td>

                <td class="col-7 ellipsis" onclick="document.location = '{% url 'webmail:message' message.id %}';"
                    style="cursor: pointer;"><b>{{ message.subject }}</b> â€” {{ message.body }}</td>

                <td class="col-2 text-right p-0">
                    <form action="{% url 'webmail:message-delete' message.id %}" method="post">
                        {% csrf_token %}
                        <input type="hidden" name="message_id" value="{{ message.id }}"/>
                        <input type="hidden" name="view_name" value="webmail:inbox"/>
                        <button class="btn btn-outline-danger btn-sm m-2" type="submit">Delete</button>
                    </form>
                </td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}
